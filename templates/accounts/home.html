{% extends 'base.html' %}
{% load static %}
{% block title %}é¦–é¡µ - è·¨å¢ƒç”µå•†å¹³å°{% endblock %}
{% block content %}
<!-- Hero Section -->
<section class="hero-section text-white py-5 mb-5">
    <div class="container">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6 hero-content">
                <div class="mb-3">
                    <span class="badge bg-light text-primary fw-semibold px-3 py-2">ğŸŒŸ å…¨æ–°ä½“éªŒ</span>
                </div>
                <h1 class="display-3 fw-bold mb-3 animate-text">
                    å…¨çƒä¼˜è´¨å•†å“
                    <span class="text-warning">ä¸€ç«™å¼è´­ç‰©</span>
                </h1>
                <p class="lead mb-4 fs-5">
                    ä¸“ä¸šçš„è·¨å¢ƒç”µå•†å¹³å°ï¼Œæ±‡èšå…¨çƒç²¾å“
                    <br>ä¸ºæ‚¨æä¾›å®‰å…¨ä¾¿æ·çš„è´­ç‰©ä½“éªŒ
                </p>
                <div class="d-flex flex-wrap gap-3 mb-4">
                    <a href="{% url 'products:product_list' %}" class="btn btn-light btn-lg px-4">
                        <i class="bi bi-bag-heart me-2"></i>ç«‹å³è´­ç‰©
                    </a>
                    {% if not user.is_authenticated %}
                    <a href="{% url 'accounts:customer_register' %}" class="btn btn-outline-light btn-lg px-4">
                        <i class="bi bi-person-plus me-2"></i>å…è´¹æ³¨å†Œ
                    </a>
                    {% endif %}
                </div>
                <div class="row text-center">
                    <div class="col-4">
                        <div class="stats-counter">50K+</div>
                        <small>ä¼˜è´¨å•†å“</small>
                    </div>
                    <div class="col-4">
                        <div class="stats-counter">10K+</div>
                        <small>æ»¡æ„å®¢æˆ·</small>
                    </div>
                    <div class="col-4">
                        <div class="stats-counter">100+</div>
                        <small>å…¨çƒå“ç‰Œ</small>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="text-center position-relative">
                    <div class="floating-animation">
                        <i class="bi bi-globe-americas" style="font-size: 250px; opacity: 0.9;"></i>
                    </div>
                    <div class="position-absolute top-50 start-50 translate-middle">
                        <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Categories -->
<section class="mb-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">çƒ­é—¨åˆ†ç±»</h2>
            <p class="lead text-muted">æ¢ç´¢å…¨çƒä¼˜è´¨å•†å“ï¼Œå‘ç°æ›´å¤šç²¾å“</p>
        </div>
        <div class="row g-4">
            <div class="col-md-3 fade-in">
                <div class="category-card text-center p-4 rounded-4">
                    <div class="mb-3">
                        <i class="bi bi-laptop display-4 text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-2">ç”µå­äº§å“</h5>
                    <p class="text-muted mb-3">æœ€æ–°ç§‘æŠ€äº§å“ï¼Œæ™ºèƒ½ç”Ÿæ´»</p>
                    <div class="d-flex justify-content-center">
                        <span class="badge bg-primary bg-opacity-10 text-primary">çƒ­é”€</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 fade-in">
                <div class="category-card text-center p-4 rounded-4">
                    <div class="mb-3">
                        <i class="bi bi-palette display-4 text-success"></i>
                    </div>
                    <h5 class="fw-bold mb-2">ç¾å¦†æŠ¤è‚¤</h5>
                    <p class="text-muted mb-3">å›½é™…çŸ¥åå“ç‰Œï¼Œç¾ä¸½åŠ åˆ†</p>
                    <div class="d-flex justify-content-center">
                        <span class="badge bg-success bg-opacity-10 text-success">æ–°å“</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 fade-in">
                <div class="category-card text-center p-4 rounded-4">
                    <div class="mb-3">
                        <i class="bi bi-bag-heart display-4 text-warning"></i>
                    </div>
                    <h5 class="fw-bold mb-2">æ—¶å°šæœé¥°</h5>
                    <p class="text-muted mb-3">æ½®æµæ­é…å•å“ï¼Œå¼•é¢†æ—¶å°š</p>
                    <div class="d-flex justify-content-center">
                        <span class="badge bg-warning bg-opacity-10 text-warning">æ¨è</span>
                    </div>
                </div>
            </div>
            <div class="col-md-3 fade-in">
                <div class="category-card text-center p-4 rounded-4">
                    <div class="mb-3">
                        <i class="bi bi-house-heart display-4 text-info"></i>
                    </div>
                    <h5 class="fw-bold mb-2">å®¶å±…ç”Ÿæ´»</h5>
                    <p class="text-muted mb-3">å“è´¨ç”Ÿæ´»å¥½ç‰©ï¼Œæ¸©é¦¨å®¶å±…</p>
                    <div class="d-flex justify-content-center">
                        <span class="badge bg-info bg-opacity-10 text-info">ç²¾å“</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Products -->
<section class="mb-5">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">ç²¾é€‰å•†å“</h2>
            <p class="lead text-muted">ä¸ºæ‚¨ç²¾å¿ƒæŒ‘é€‰çš„å…¨çƒä¼˜è´¨å•†å“</p>
        </div>
        {% if featured_products %}
        <div class="row g-4">
            {% for product in featured_products %}
            <div class="col-lg-3 col-md-6 fade-in">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <div class="position-relative overflow-hidden">
                        <img src="{% if product.image_url %}{{ product.image_url }}{% else %}{% static 'images/placeholder.svg' %}{% endif %}" 
                             class="card-img-top" alt="{{ product.name }}">
                        <div class="position-absolute top-0 end-0 m-2">
                            {% if product.is_featured %}
                            <span class="badge bg-warning text-dark">ç²¾é€‰</span>
                            {% endif %}
                            {% if product.discount_percentage > 0 %}
                            <span class="badge bg-danger">-{{ product.discount_percentage }}%</span>
                            {% endif %}
                        </div>
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title fw-bold">{{ product.name }}</h5>
                        <p class="card-text text-muted">{{ product.description|truncatechars:80 }}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="h5 text-primary fw-bold mb-0">${{ product.price }}</span>
                                <small class="text-muted text-decoration-line-through ms-2">${{ product.original_price|default:product.price }}</small>
                            </div>
                            <div class="rating">
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-fill text-warning"></i>
                                <i class="bi bi-star-half text-warning"></i>
                                <small class="text-muted ms-1">({{ product.review_count|default:"0" }})</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-5">
            <a href="{% url 'products:product_list' %}" class="btn btn-gradient btn-lg px-5">
                æŸ¥çœ‹æ›´å¤šå•†å“
                <i class="bi bi-arrow-right ms-2"></i>
            </a>
        </div>
        {% else %}
        <div class="text-center py-5">
            <i class="bi bi-inbox display-1 text-muted"></i>
            <p class="text-muted">æš‚æ— ç²¾é€‰å•†å“</p>
        </div>
        {% endif %}
    </div>
</section>

<!-- Platform Features -->
<section class="mb-5 py-5" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬</h2>
            <p class="lead text-muted">ä¸“ä¸šçš„è·¨å¢ƒç”µå•†å¹³å°ï¼Œä¸ºæ‚¨æä¾›ä¼˜è´¨æœåŠ¡</p>
        </div>
        <div class="row g-5">
            <div class="col-md-4 text-center fade-in">
                <div class="feature-card p-4 rounded-4 bg-white shadow-sm h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper mx-auto mb-3">
                            <i class="bi bi-shield-check display-4 text-primary"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">å“è´¨ä¿è¯</h5>
                    <p class="text-muted mb-4">ä¸¥æ ¼ç­›é€‰ä¼˜è´¨å•†å“ï¼Œç¡®ä¿æ¯ä¸€ä»¶å•†å“éƒ½ç¬¦åˆé«˜æ ‡å‡†ï¼Œè®©æ‚¨è´­ç‰©æ— å¿§</p>
                    <div class="feature-stats">
                        <div class="row text-center">
                            <div class="col-6">
                                <div class="h5 fw-bold text-primary">100%</div>
                                <small class="text-muted">æ­£å“ä¿è¯</small>
                            </div>
                            <div class="col-6">
                                <div class="h5 fw-bold text-success">50K+</div>
                                <small class="text-muted">ä¼˜è´¨å•†å“</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 text-center fade-in">
                <div class="feature-card p-4 rounded-4 bg-white shadow-sm h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper mx-auto mb-3">
                            <i class="bi bi-truck display-4 text-success"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">å…¨çƒé…é€</h5>
                    <p class="text-muted mb-4">è¦†ç›–å…¨çƒçš„ç‰©æµé…é€ç½‘ç»œï¼Œå¿«é€Ÿå®‰å…¨é€è¾¾ï¼Œå®æ—¶ç‰©æµè·Ÿè¸ª</p>
                    <div class="feature-stats">
                        <div class="row text-center">
                            <div class="col-6">
                                <div class="h5 fw-bold text-primary">200+</div>
                                <small class="text-muted">å›½å®¶å’Œåœ°åŒº</small>
                            </div>
                            <div class="col-6">
                                <div class="h5 fw-bold text-info">7å¤©</div>
                                <small class="text-muted">å¹³å‡é€è¾¾</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 text-center fade-in">
                <div class="feature-card p-4 rounded-4 bg-white shadow-sm h-100">
                    <div class="feature-icon mb-4">
                        <div class="icon-wrapper mx-auto mb-3">
                            <i class="bi bi-headset display-4 text-warning"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-3">è´´å¿ƒæœåŠ¡</h5>
                    <p class="text-muted mb-4">24å°æ—¶åœ¨çº¿å®¢æœï¼Œå¤šè¯­è¨€æ”¯æŒï¼Œä¸ºæ‚¨æä¾›ä¸“ä¸šè´­ç‰©æŒ‡å¯¼</p>
                    <div class="feature-stats">
                        <div class="row text-center">
                            <div class="col-6">
                                <div class="h5 fw-bold text-warning">24/7</div>
                                <small class="text-muted">åœ¨çº¿æœåŠ¡</small>
                            </div>
                            <div class="col-6">
                                <div class="h5 fw-bold text-danger">98%</div>
                                <small class="text-muted">å®¢æˆ·æ»¡æ„åº¦</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Additional Features -->
        <div class="row mt-5">
            <div class="col-12">
                <div class="features-grid">
                    <div class="row g-3">
                        <div class="col-md-3 col-6 text-center">
                            <div class="mini-feature p-3 rounded-3 bg-white shadow-sm">
                                <i class="bi bi-currency-exchange text-primary mb-2"></i>
                                <div class="fw-semibold small">å¤šå¸ç§æ”¯ä»˜</div>
                            </div>
                        </div>
                        <div class="col-md-3 col-6 text-center">
                            <div class="mini-feature p-3 rounded-3 bg-white shadow-sm">
                                <i class="bi bi-arrow-repeat text-success mb-2"></i>
                                <div class="fw-semibold small">è½»æ¾é€€è´§</div>
                            </div>
                        </div>
                        <div class="col-md-3 col-6 text-center">
                            <div class="mini-feature p-3 rounded-3 bg-white shadow-sm">
                                <i class="bi bi-tag text-info mb-2"></i>
                                <div class="fw-semibold small">ä¼˜æƒ ä»·æ ¼</div>
                            </div>
                        </div>
                        <div class="col-md-3 col-6 text-center">
                            <div class="mini-feature p-3 rounded-3 bg-white shadow-sm">
                                <i class="bi bi-award text-warning mb-2"></i>
                                <div class="fw-semibold small">å“è´¨è®¤è¯</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
}
.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="1" fill="white" opacity="0.05"/><circle cx="10" cy="60" r="1" fill="white" opacity="0.05"/><circle cx="90" cy="40" r="1" fill="white" opacity="0.05"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
    animation: grain 8s steps(10) infinite;
}
@keyframes grain {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-5%, -10%); }
    20% { transform: translate(-15%, 5%); }
    30% { transform: translate(7%, -25%); }
    40% { transform: translate(-5%, 25%); }
    50% { transform: translate(-15%, 10%); }
    60% { transform: translate(15%, 0%); }
    70% { transform: translate(0%, 15%); }
    80% { transform: translate(3%, 35%); }
    90% { transform: translate(-10%, 10%); }
}
.animate-text {
    animation: slideInLeft 1s ease-out;
}
@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-50px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}
.floating-animation {
    animation: float 3s ease-in-out infinite;
}
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}
.category-card {
    background: white;
    border: none;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}
.category-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: left 0.5s;
}
.category-card:hover::before {
    left: 100%;
}
.category-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
}
.product-card {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: none;
    background: white;
    position: relative;
    overflow: hidden;
}
.product-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    transform: scaleX(0);
    transition: transform 0.3s ease;
}
.product-card:hover::before {
    transform: scaleX(1);
}
.product-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 25px 50px rgba(0,0,0,0.2);
}
.product-card .card-img-top {
    transition: all 0.4s ease;
    height: 200px;
    object-fit: cover;
}
.product-card:hover .card-img-top {
    transform: scale(1.1);
}
.feature-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 1rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    transition: all 0.3s ease;
}
.feature-item:hover .feature-icon {
    transform: scale(1.1) rotate(5deg);
    box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
}
.btn-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    color: white;
    font-weight: 600;
    padding: 12px 30px;
    border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
}
.btn-gradient:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
    color: white;
}
.stats-counter {
    font-size: 2.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease;
}
.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}
.bg-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
.glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--border-radius);
}
</style>

<script>
// é¡µé¢åŠ è½½åŠ¨ç”»
document.addEventListener('DOMContentLoaded', function() {
    // æ·¡å…¥åŠ¨ç”»
    const fadeElements = document.querySelectorAll('.fade-in');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, {
        threshold: 0.1
    });
    
    fadeElements.forEach(element => {
        observer.observe(element);
    });
    
    // ç»Ÿè®¡æ•°å­—åŠ¨ç”»
    function animateCounter(element, target) {
        let current = 0;
        const increment = target / 100;
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            element.textContent = Math.floor(current) + (target >= 1000 ? 'K+' : '+');
        }, 20);
    }
    
    // å¯åŠ¨ç»Ÿè®¡åŠ¨ç”»
    const counters = document.querySelectorAll('.stats-counter');
    counters.forEach(counter => {
        const target = parseInt(counter.textContent.replace(/[^\d]/g, ''));
        if (target) {
            setTimeout(() => animateCounter(counter, target), 500);
        }
    });
});
</script>
{% endblock %}
